---
date: 2021-11-23-Tuesday
---

# TIL
- ğŸ“ ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš© âœï¸ : 
  - [x] `Ajax`(Asynchronous JavaScript and XML)ë€? 
    - ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì—ê²Œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê³ , ì„œë²„ê°€ ì‘ë‹µí•œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ì—¬ ì›¹í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ê°±ì‹ í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ë°©ì‹ì„ ë§í•œë‹¤.       
    - ajax ì¥ì 
      - í˜ì´ì§€ì˜ ê°±ì‹ ì—†ì´ ì„œë²„ì™€ ë¹„ë™ê¸° í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤
      - í™”ë©´ì´ ìƒˆë¡œ ë¡œë”©ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸°ì— ì†ë„ë©´ì—ì„œ ì„±ëŠ¥ í–¥ìƒ 
      - etc. 
  - [x] `ë™ê¸°` vs `ë¹„ë™ê¸°`        
  ~~(feat. ajax (Asynchronous JavaScript and XML) = ì‹¤ì‹œê°„(ë¹„ë™ê¸°)ìœ¼ë¡œ ìë£Œ ì²´í¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥)~~       
    - **ë™ê¸°**: ìƒˆë¡œê³ ì¹¨ ë˜ëŠ” ì•„ì˜ˆ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì „í™˜ 
    - **ë¹„ë™ê¸°(ì‹¤ì‹œê°„)**: í•œ ë²ˆ ì›¹í˜ì´ì§€ë¥¼ ë¡œë”©í•˜ë©´ ë³€í™”ê°€ ìƒê²¨ë‚œ ë¶€ë¶„ë§Œ ì¼ë¶€ ë‹¤ì‹œ ê°±ì‹ 
      - ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ë¹„ë™ê¸°ì‹ìœ¼ë¡œ ì„œë²„ì— ë°ì´í„°ë¥¼ ìš”ì²­í•˜ì—¬ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ ì „ì²´ í˜ì´ì§€ë¥¼ ìƒˆë¡œ ê³ ì¹˜ì§€ ì•Šê³  ë³€ê²½ì´ í•„ìš”í•œ í˜ì´ì§€ ë¶€ë¶„ë§Œì„ ê³ ì¹˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. 
    - ì‚¬ìš© ë°©ë²•: 
      - `XMLHttpRequest` ê°ì²´ ìƒì„±:      
      HTTP ìš”ì²­ ì „ìš© ê°ì²´ì¸ XMLHttpRequetê°ì²´ë¥¼ ìƒì„±í•œë‹¤     
      ```js
        const request = new XMLHttpRequest(); 
      ```
      - `request` ê°ì²´ ì´ˆê¸°í™” ì„¤ì •        
      ìš”ì²­ ë©”ì„œë“œ ë°©ì‹, íŒŒì¼ ê²½ë¡œ, ë¹„ë™ê¸° ì²˜ë¦¬ ì—¬ë¶€ë¥¼ ì„¤ì •í•œë‹¤      
      ```js
        request.open('ë©”ì„œë“œ', 'URLê²½ë¡œ', 'ë¹„ë™ê¸° ì—¬ë¶€')

        // ë©”ì„œë“œ : 'GET', 'POST', etc.
        // ë¹„ë™ê¸° ì—¬ë¶€ : ê¸°ë³¸ê°’ì€ true -> ìƒëµ ê°€ëŠ¥ 
      ```
      - ì „ì†¡ ë°ì´í„° íƒ€ì… ì„¤ì •:        
      POST ë“±ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ë•ŒëŠ”, RequestHeaerë¥¼ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤          
      ```js
       // 1. applicaiton/x-www-form-urlencoded: key=value&key=value...ì˜ í˜•íƒœë¡œ ì „ì†¡
        request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded'); 

        // 2.  application/json:  {key:value}ì˜ í˜•íƒœë¡œ ì „ì†¡
        request.setRequestHeader('Content-type', 'application/json'); 
      ```
      - ìš”ì²­ & ë°ì´í„° ì „ì†¡:       
      ë°ì´í„° ìš”ì²­ ê²½ë¡œ(URL)ë¡œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤        
      ```js
        // 1. ì „ì†¡ ë°ì´í„° ì—†ëŠ” ê²½ìš°
        reqeust.send(); 

        // 2. application/x-www-form-urlencoded
        request.send(`name=${name}&price=${price}`); 

        // 3. applicaiton/json
        request.send(`{name:ì•„ì´ìŠ¤í‹°, pricie:3800}`);  
        // ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•ŒëŠ” ê°€ê¸‰ì  ì§ë ¬í™”(ë¬¸ìì—´ë¡œ ë³€í™˜)í•´ì„œ ë³´ë‚´ëŠ”ê²Œ ì¢‹ë‹¤ -> JSON.stringfy(ê°ì²´);
      ```
      - `onreadystatechange` ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡:         
        XMLHttpRequestì˜ ìƒíƒœ(readyState) ë³€ê²½ì‹œ ë§ˆë‹¤ í˜¸ì¶œë  ì½œë°±í•¨ìˆ˜ë¥¼ ë“±ë¡í•œë‹¤/ë“±ë¡í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ë©”ì„œë“œ            
        ```js
          request.onreadystatechange = function(event){  
            //..ì‘ì—… ë‚´ìš© êµ¬í˜„...  

            // ì¼ë°˜ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì‘ì—… ë‚´ìš© 
            /*
              1. request.readaystate == 4 ì²´í¬: ì‘ë‹µ ë°ì´í„° ìˆ˜ì‹  ì™„ë£Œ í™•ì¸
              2. request.state = 200 ì²´í¬: ì‘ë‹µì½”ë“œ í™•ì¸
              3. request.response ì²´í¬:  ì‘ë‹µë°ì´í„° ì‚¬ìš©

              // ---------------------------------------

              ì—¬ê¸°ì„œ, readyStateë€ í˜„ì¬ ë°ì´í„°ì˜ ë¡œë”© ìƒíƒœë¥¼ í™•ì¸í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í”„ë¡œí¼í‹°/ì†ì„±ì´ë‹¤. 
              
                - readyState === 0: XMLHttpRequest ê°ì²´ê°€ ìƒì„±ë˜ì—ˆì§€ë§Œ open()ë©”ì„œë“œë¡œ ì´ˆê¸°í™” ë˜ì§€ ì•ŠìŒ
                - readyState === 1: XMLHttpRequest ê°ì²´ê°€ ìƒì„± ë° ì´ˆê¸°í™”ë˜ì—ˆì§€ë§Œ, send()ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŒ
                - readyState === 2: XMLHttpRequest ê°ì²´ì˜ send()ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì—ˆì§€ë§Œ, ì•„ì§ ë°ì´í„°ë¥¼ ë°›ì§€ ëª»í•¨
                - readyState === 3: ë°ì´í„°ì˜ ì¼ë¶€ë¥¼ ë°›ìŒ
                - readyState === 4: ë°ì´í„°ë¥¼ ëª¨ë‘ ë°›ìŒ

                ê·¸ë˜ì„œ ... 
                ì‘ë‹µ ì¤€ë¹„ ìƒíƒœë€ ...
                xhr.readyState === XMLHttpRequest.DONE ì¼ ë•Œ, ë˜ëŠ” 
                xhr.readyState === 4 && xhr.status === 200 ì¼ë•Œ ... 
                ì‘ë‹µ ì¤€ë¹„ ì™„ë£Œ ìƒíƒœê°€ ë˜ëŠ” ê²ƒ~!
            */
          };
        ```
      - `responseText` ì†ì„±:         
      responseText í”„ë¡œí¼í‹°ëŠ” ì„œë²„ì— ìš”ì²­í•˜ì—¬ ì‘ë‹µìœ¼ë¡œ ë°›ì€ ë°ì´í„°ë¥¼ ë¬¸ìì—´ë¡œ ë°˜í™˜í•œë‹¤       

      

        <br />

      - ìœ„ì˜ ë‚´ìš© ì „ì²´ë¥¼ í•œëŒ€ ëª¨ì•„ì„œ... ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš© ê°€ëŠ¥!       
      e.g.        
      ```html  
      <!-- ë‹¨ìˆœ ìš”ì²­ì‹œ -->
      <!DOCTYPE html> 
      <html lang="ko-KR"> 
        <head> 
          <meta charset="UTF-8"> 
          <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
          <title>XMLHttpRequest</title> 
        </head>
        <body> 
          <h1>index.html</h1> 
          <script> 
            // # ë¹„ë™ê¸° ë°©ì‹ AJAX ìš”ì²­ 
            // 1. XMLHttpRequest ê°ì²´ ìƒì„± 
            const request = new XMLHttpRequest(); 
            
            // 2. ìš”ì²­ ì´ˆê¸°í™” 
            request.open('GET', '/ìš”ì²­ê²½ë¡œ', true); 
            
            // 3. ìš”ì²­ ì „ì†¡ 
            request.send(); 
            
            // 4. onreadystatechage ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆ ë“±ë¡  
            request.onreadystatechange = function(event) { 
              // 1) ë°ì´í„°ë¥¼ ë‹¤ ë°›ì•˜ê³ , 2) ì‘ë‹µì½”ë“œ 200(ì„±ê³µ)ì„ ë°›ì•˜ëŠ”ì§€ ì²´í¬ 
              if(request.readyState == 4 && request.status == 200) { 
                    
                // ì‘ë‹µë°›ì€ ë°ì´í„° ì²´í¬ 
                const responseData = request.responseText; 
              } 
            } 

      
          /* !! ì°¸ê³ . 
            - ë¹„ë™ê¸°ì‹ìš”ì²­ì—¬ë¶€ì— falseë¼ê³  í•˜ë©´ ë™ê¸°ë°©ì‹ ìš”ì²­!
            - BUT!! ë™ê¸°ë°©ì‹ ìš”ì²­ : ì‘ë‹µì´ ì˜¬ë•Œê¹Œì§€ ë¸Œë¼ìš°ì €ê°€ ë©ˆì¶”ë¯€ë¡œ ë”ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ 
              const request = new XMLHttpRequest(); 
              request.open('GET', '/ìš”ì²­ê²½ë¡œ', false);   
              request.send(); 
          */ 
          </script> 
        </body> 
      </html>
      
      ```

  <br />
  <br />

  - [x] `ì¸í„°ë„· ìƒíƒœ ì½”ë“œ`
    - **1xx(ì •ë³´)** : ìš”ì²­ì„ ë°›ì•˜ìœ¼ë©° í”„ë¡œì„¸ìŠ¤ë¥¼ ê³„ì† ì§„í–‰í•©ë‹ˆë‹¤.
    - **2xx(ì„±ê³µ)** : ìš”ì²­ì„ ì„±ê³µì ìœ¼ë¡œ ë°›ì•˜ìœ¼ë©° ì¸ì‹í–ˆê³  ìˆ˜ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
    - **3xx(ë¦¬ë‹¤ì´ë ‰ì…˜)** : ìš”ì²­ ì™„ë£Œë¥¼ ìœ„í•´ ì¶”ê°€ ì‘ì—… ì¡°ì¹˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.
    - **4xx(í´ë¼ì´ì–¸íŠ¸ ì˜¤ë¥˜)** : ìš”ì²­ì˜ ë¬¸ë²•ì´ ì˜ëª»ë˜ì—ˆê±°ë‚˜ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
       401ëŠ” ì¸ì¦ ì‹¤íŒ¨, 403 ê¸ˆì§€ë¨, 404ëŠ” not found(ì°¾ì„ ìˆ˜ ì—†ìŒ- ì• ì´ˆì— ì—†ìŒ), 410 ìë£Œê°€ ì‚¬ë¼ì§(ìˆì—ˆëŠ”ë° ì‚¬ë¼ì§) 
    - **5xx(ì„œë²„ ì˜¤ë¥˜)** : ì„œë²„ê°€ ëª…ë°±íˆ ìœ íš¨í•œ ìš”ì²­ì— ëŒ€í•œ ì¶©ì¡±ì„ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.     
<!-- https://www.whatap.io/ko/blog/40/
https://ko.wikipedia.org/wiki/HTTP_%EC%83%81%ED%83%9C_%EC%BD%94%EB%93%9C -->
    - ì—ëŸ¬ ì²´í¬í•˜ëŠ” ë°©ë²•       
    ```js
    ```
    - 

- fetch í•¨ìˆ˜ ì‚¬ìš©ë²• 
https://velog.io/@eunjin/JavaScript-fetch-%ED%95%A8%EC%88%98-%EC%93%B0%EB%8A%94-%EB%B2%95-fetch-%ED%95%A8%EC%88%98%EB%A1%9C-HTTP-%EC%9A%94%EC%B2%AD%ED%95%98%EB%8A%94-%EB%B2%95
<!-- js fetch then -->


- DOM VS BOM -> ì°¨ì´ì ?? 


<br />
<br />



---
<details>
<summary>CLICK ME!</summary>  

- cf.  
  - âœ¨ Only ì„ ìƒë‹˜'s ê°•ì˜ âœ¨
  - https://developer.mozilla.org/ko/docs/Web/API/Document/readyState
  - https://sjparkk-dev1og.tistory.com/27
  - https://qqqqqq.tistory.com/entry/XMLHttpRequest-%EA%B0%9D%EC%B2%B4%EC%9D%98-%EC%83%81%ED%83%9C-readystate 
  - https://curryyou.tistory.com/340
  - [XMLHttpRequest.readyState](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState)
  - [XMLHttpRequest.onreadystatechange](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/onreadystatechange)
  - https://homzzang.com/b/js-82
  - https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=dceye&logNo=50090851280
  - [fetch í•¨ìˆ˜](https://velog.io/@eunjin/JavaScript-fetch-%ED%95%A8%EC%88%98-%EC%93%B0%EB%8A%94-%EB%B2%95-fetch-%ED%95%A8%EC%88%98%EB%A1%9C-HTTP-%EC%9A%94%EC%B2%AD%ED%95%98%EB%8A%94-%EB%B2%95)
  -
  -

</detials>   

